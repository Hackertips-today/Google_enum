from google.auth.transport.requests import Request
from google.oauth2.credentials import Credentials
import googleapiclient.discovery

creds = Credentials.from_authorized_user_file("application_default_credentials.json", scopes=["https://www.googleapis.com/auth/cloud-platform"])
creds.refresh(Request())

service = googleapiclient.discovery.build('compute', 'v1', credentials=creds)
projects = service.projects().get(project='YOUR_PROJECT_ID').execute()
print(projects)

# can now list instances, create VMs, read storage, etc.


